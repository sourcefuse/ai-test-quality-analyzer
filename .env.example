# Application Configuration
NODE_ENV=development

# JIRA Configuration (Input - for fetching data)
JIRA_URL=https://your-jira-instance.atlassian.net
JIRA_EMAIL=your-email@example.com
JIRA_API_TOKEN=your-jira-api-token
JIRA_PROJECT_KEY=YOUR_PROJECT_KEY
JIRA_FETCH_FIELDS=summary,description,customfield_10000
JIRA_MAX_RESULT=100
JIRA_TICKET_ID=

# JIRA Configuration (Output - for posting results)
JIRA_URL_OUTPUT=https://your-jira-instance.atlassian.net
JIRA_EMAIL_OUTPUT=your-email@example.com
JIRA_API_TOKEN_OUTPUT=your-jira-api-token
JIRA_SPACE_KEY_OUTPUT=MyTestSpace

# Confluence Configuration (for fetching data)
CONFLUENCE_URL=https://your-jira-instance.atlassian.net
CONFLUENCE_EMAIL=your-email@example.com
CONFLUENCE_API_TOKEN=your-confluence-api-token
CONFLUENCE_SPACE_KEY=MySpace
CONFLUENCE_MAX_PAGES=
CONFLUENCE_PAGE_LIMIT=50
# Suppress logging during page downloads (true/false, default: false)
CONFLUENCE_SILENT_MODE=false

# Confluence Upload Configuration (optional - for uploading to different account)
# If not provided, will use the same account as above
CONFLUENCE_UPLOAD_URL=
CONFLUENCE_UPLOAD_EMAIL=
CONFLUENCE_UPLOAD_API_TOKEN=
CONFLUENCE_UPLOAD_SPACE_KEY=

# OpenRouter AI Configuration
OPEN_ROUTER_API_KEY=your-openrouter-api-key
OPEN_ROUTER_API_URL=https://openrouter.ai/api/v1
OPEN_ROUTER_MODEL=google/gemini-2.0-flash-exp:free

# AWS Configuration
AWS_REGION=us-east-1

# AWS Bedrock Configuration (for LLM)
# Option 1: Use AWS Profile (Recommended - credentials from ~/.aws/credentials)
AWS_PROFILE=awsbedrock
# Option 2: Use Explicit Keys (Alternative)
AWS_ACCESS_KEY_BEDROCK=
AWS_SECRET_KEY_BEDROCK=
# Model Configuration
# Claude Sonnet 4.5 - using global inference profile
AWS_BEDROCK_MODEL=global.anthropic.claude-sonnet-4-5-20250929-v1:0
# AI Service Selection: 1 = Use AWS Bedrock, 0 = Use OpenRouter
CLAUDE_CODE_USE_BEDROCK=1

# Presidio Configuration (PII Detection)
PRESIDIO_ANALYZE_URL=http://localhost:5002/analyze
PRESIDIO_ANONYMIZE_URL=http://localhost:5001/anonymize

# Analysis Path Configuration
# Current analysis folder path (format: YYYY-MM-DD-HH-MM-SS-Via-AI)
# This is used to construct the full analysis path: {SPACE_KEY}-Quality-Check-Via-AI/{TICKET_ID}-Via-AI/{CURRENT_ANALYSIS_PATH}
CURRENT_ANALYSIS_PATH=

SAVE_TO_FILE=true

# File Names Configuration (can be overridden)
JIRA_FILE_NAME=Jira.md
CONFLUENCE_FILE_NAME=Confluence.md
REQUIREMENTS_FILE_NAME=Requirements.md
ANALYSIS_REPORT_FILE_NAME=AnalysisReport.md

# Folder Naming Configuration
# Base folder suffix (default: Quality-Check-Via-AI)
BASE_FOLDER_SUFFIX=Quality-Check-Via-AI
# Ticket folder suffix (default: Via-AI)
TICKET_FOLDER_SUFFIX=Via-AI
# Timestamp folder suffix (default: Via-AI)
TIMESTAMP_FOLDER_SUFFIX=Via-AI

# Confluence Page Names Configuration
CONFLUENCE_ROOT_PAGE_SUFFIX=Quality-Check-Via-AI
CONFLUENCE_TICKET_PAGE_SUFFIX=Via-AI

# Note: Confluence page hierarchy structure:
# 1. Root: {SPACE_KEY}-Quality-Check-Via-AI (container for all reports)
# 2. Ticket: {TICKET_ID}-Via-AI (container for specific ticket reports)
# 3. Analysis: {CURRENT_ANALYSIS_PATH} (e.g., "2025-01-30-Via-AI" - the actual report page with content)
#
# Pages matching the above patterns or timestamp format will be automatically excluded
# when downloading Confluence content to prevent AI-generated reports from being
# re-analyzed in subsequent runs (prevents feedback loops)

# ===================================================================
# RAG SYSTEM CONFIGURATION (PostgreSQL + pgvector)
# ===================================================================

# Enable PostgreSQL Vector DB for storing Confluence documents
# Set to true to save Confluence pages to PostgreSQL with embeddings during fetch
# Set to false to only save to local files (default behavior)
USE_POSTGRES_VECTOR_DB=false

# PostgreSQL Database Configuration
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=postgres-pgvector
DATABASE_USER=postgres
DATABASE_PASSWORD=admin

# OpenAI/OpenRouter Embeddings Configuration
EMBEDDING_PROVIDER=openai
OPENAI_API_KEY=

# OpenRouter Configuration (if using OpenRouter instead of OpenAI)
OPENROUTER_SITE_URL=http://localhost
OPENROUTER_SITE_NAME=CheckUnitTestCases
